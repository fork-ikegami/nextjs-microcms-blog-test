{"pageProps":{"blog":{"id":"knjoxmqe02","createdAt":"2022-03-24T10:20:06.688Z","updatedAt":"2022-03-24T10:20:06.688Z","publishedAt":"2021-12-22T10:20:06.000Z","revisedAt":"2022-03-24T10:20:06.688Z","title":"Nuxtにpugとstylus入れようとしたらエラー出た","body":"<h2 id=\"h5c0c7cb22e\">問題</h2><p>新しくNuxtプロジェクト作ろうとしたとき、</p><pre><code>$ npm init nuxt-app myApp\n$ cd myApp\n$ npm i -D pug pug-plain-loader\n$ npm i -D stylus stylus-loader\n$ npm run dev</code></pre><p>これでpugとstylus書いてみたらエラー出て悲しみでした😂<br>どちらも原因はバージョンで、 pugは現時点で最新版が3.0.2だったのですが、pug-plain-loaderが未対応だったのでエラーが出ました。 最新版はアンインストールして、2.0.4を入れたらイケました。<br>stylusは、stylus-loaderの最新版5.0.0がwebpack5系を要求していてエラーが出ました。 （このときNuxtに入ってたのはwebpack 4.46.0でした） こちらも最新版をアンインストールして4.3.3を入れたらイケました。</p><h2 id=\"heae49c81e4\"><br>解決</h2><p>結局やりなおして、</p><pre><code>$ npm init nuxt-app myApp\n$ cd myApp\n$ npm i -D pug@2.0.4 pug-plain-loader\n$ npm i -D stylus stylus-loader@4.3.3\n$ npm run dev</code></pre><p>これで始められました。 前はイケたのになーってこと結構あるので、引っかかったらバージョン確認大事ですね。</p><h2 id=\"h397e38daae\"><br>補足</h2><p>直接関係はないですが、Stylusの変数定義用ファイル読み込みたくて&nbsp;<code>@nuxtjs/style-resources</code>&nbsp;使ったところ&nbsp;<code>ValidationError: Invalid options object. Stylus Loader has been initialized using an options object that does not match the API schema.</code>&nbsp;とエラー出て、調べたら解決策がstylus-loader3系にする だったので結局stylus-loader@3.0.2入れ直しました┐(´д｀)┌</p><h2 id=\"h3de35099b3\"><br>参考</h2><p><a href=\"https://www.npmjs.com/package/pug\" target=\"_blank\" rel=\"noopener noreferrer\">pug - npm</a>&nbsp;<a href=\"https://www.npmjs.com/package/stylus-loader\" target=\"_blank\" rel=\"noopener noreferrer\">stylus-loader - npm</a></p>","category":{"id":"javascript","createdAt":"2022-03-24T07:10:27.304Z","updatedAt":"2022-03-24T07:10:27.304Z","publishedAt":"2022-03-24T07:10:27.304Z","revisedAt":"2022-03-24T07:10:27.304Z","name":"JavaScript"},"tag":[{"id":"nuxtjs","createdAt":"2022-03-24T09:58:57.359Z","updatedAt":"2022-03-24T09:58:57.359Z","publishedAt":"2022-03-24T09:58:57.359Z","revisedAt":"2022-03-24T09:58:57.359Z","name":"Nuxt.js"}]},"highlightedBody":"<html><head></head><body><h2 id=\"h5c0c7cb22e\">問題</h2><p>新しくNuxtプロジェクト作ろうとしたとき、</p><pre><code class=\"hljs\"><span class=\"hljs-variable\">$</span> npm init nuxt<span class=\"hljs-literal\">-app</span> myApp\n<span class=\"hljs-variable\">$</span> <span class=\"hljs-built_in\">cd</span> myApp\n<span class=\"hljs-variable\">$</span> npm i <span class=\"hljs-literal\">-D</span> pug pug<span class=\"hljs-literal\">-plain-loader</span>\n<span class=\"hljs-variable\">$</span> npm i <span class=\"hljs-literal\">-D</span> stylus stylus<span class=\"hljs-literal\">-loader</span>\n<span class=\"hljs-variable\">$</span> npm run dev</code></pre><p>これでpugとstylus書いてみたらエラー出て悲しみでした😂<br>どちらも原因はバージョンで、 pugは現時点で最新版が3.0.2だったのですが、pug-plain-loaderが未対応だったのでエラーが出ました。 最新版はアンインストールして、2.0.4を入れたらイケました。<br>stylusは、stylus-loaderの最新版5.0.0がwebpack5系を要求していてエラーが出ました。 （このときNuxtに入ってたのはwebpack 4.46.0でした） こちらも最新版をアンインストールして4.3.3を入れたらイケました。</p><h2 id=\"heae49c81e4\"><br>解決</h2><p>結局やりなおして、</p><pre><code class=\"hljs\"><span class=\"hljs-variable\">$ </span>npm init nuxt-app myApp\n<span class=\"hljs-variable\">$ </span>cd myApp\n<span class=\"hljs-variable\">$ </span>npm i -D pug<span class=\"hljs-variable\">@2</span>.<span class=\"hljs-number\">0.4</span> pug-plain-loader\n<span class=\"hljs-variable\">$ </span>npm i -D stylus stylus-loader<span class=\"hljs-variable\">@4</span>.<span class=\"hljs-number\">3.3</span>\n<span class=\"hljs-variable\">$ </span>npm run dev</code></pre><p>これで始められました。 前はイケたのになーってこと結構あるので、引っかかったらバージョン確認大事ですね。</p><h2 id=\"h397e38daae\"><br>補足</h2><p>直接関係はないですが、Stylusの変数定義用ファイル読み込みたくて&nbsp;<code>@nuxtjs/style-resources</code>&nbsp;使ったところ&nbsp;<code>ValidationError: Invalid options object. Stylus Loader has been initialized using an options object that does not match the API schema.</code>&nbsp;とエラー出て、調べたら解決策がstylus-loader3系にする だったので結局stylus-loader@3.0.2入れ直しました┐(´д｀)┌</p><h2 id=\"h3de35099b3\"><br>参考</h2><p><a href=\"https://www.npmjs.com/package/pug\" target=\"_blank\" rel=\"noopener noreferrer\">pug - npm</a>&nbsp;<a href=\"https://www.npmjs.com/package/stylus-loader\" target=\"_blank\" rel=\"noopener noreferrer\">stylus-loader - npm</a></p></body></html>"},"__N_SSG":true}